<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Mapping for Journalists</title>


		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style>
			#projection-menu {
			  position: absolute;
			  right: 10px;
			  top: 10px;
			}

			.stroke {
			  fill: none;
			  stroke: #000;
			  stroke-width: 3px;
			}

			.fill {
			  fill: #fff;
			}

			.graticule {
			  fill: none;
			  stroke: #777;
			  stroke-width: .5px;
			  stroke-opacity: .5;
			}

			.land {
			  fill: #222;
			}

			.boundary {
			  fill: none;
			  stroke: #fff;
			  stroke-width: .5px;
			}

		</style>
		<script src='./js/jquery-1.12.0.min.js'></script>
		<script src="./js/d3.v3.min.js"></script>
		<script src="./js/d3.geo.projection.v0.min.js"></script>
		<script src="./js/topojson.v1.min.js"></script>
		<script src="./js/projections.js"></script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Journalism & Mapping</h1>
					<h3>An introduction to GIS analysis</h3>
					<h4>Eric Sagara</h4>
					<small>Reveal / Center for Investigative Reporting</small><br/>
					<small><a href='mailto:esagara@cironline.org'>esagara@cironline.org</a> | <a href="http://twitter.com/esagara">@esagara</a></small>
				</section>

				<section>
					<section>
						<h2>Why map?</h2>
						<p>
							Mapping and GIS analysis is used to explore spatial relationships.
						</p>
					</section>
					<section>
						<h2>This is a good example of mapping</h2>
						<img src='./images/Snow-cholera-map-1.jpg' style='height:480px; width:auto;'/>
					</section>
					<section>
						<h2>This is not</h2>
						<img src='./images/700.jpg'/>
					</section>
				</section>

				<!-- Example of nested vertical slides -->
				<section id='fragments'>
					<h2>How do we map?</h2>
					<h4>There are a variety of GIS software packages available</h4>
					<div class='fragment'>
						<h5>ArcGIS</h5>
						<small>Expensive, but fairly comprehensive in its features</small>
					</div>
					<div class='fragment'>
						<h5>QGIS</h5>
						<small>Free, not as rich in features (but getting better every day)</small>
					</div>
					<div class='fragment'>
						<h5>GDAL</h5>
						<small>A powerful, free command line tool. It has the highest learning curve and no graphical interface.</small>
					</div>
				</section>

				<section>
					<h2>What can we map?</h2>
					<p>
						Many datasets today have a geographic component to it, whether it be:
					</p>
					<ul id='fragments'>
						<li class='fragment'>An address</li>
						<li class='fragment'>Latitude and longitude</li>
						<li class='fragment'>County, city or state</li>
						<li class='fragment'>Census tracts</li>
						<li class='fragment'>Congressional districts</li>
						<li class='fragment'>Or other custom boundaries</li>
					</ul>
				</section>
				<section>
					<section>
						<h2>Some datasets are designed specifically for GIS</h2>
					</section>
					<section>
						<h2>Shapefiles</h2>
						<p>The most common format for geographic data. It is actually a set of at least three files.</p>
						<ul>
							<li>.shp - the actual shapefile</li>
							<li>.shx - an index of the feature geometry</li>
							<li>.dbf - the data attached to features</li>
						</ul> 
<!-- 						<div id='fragments'>
							<div class='fragment'>
								<p>Other files commonly found in a shapefile:</p>
								<ul>
									<li>.prj - the shapefile's projection</li>
									<li>.shp.xml - metadata</li>
								</ul>
							</div>
						</div> -->
					</section>
					<section>
						<h2>KML files</h2>
						<p>Also very common. It is a single file used to work with Google map products such as Fusion Tables, Google Maps and Google Earth. This file format is typically generated by someone wishing to display data online.</p>
					</section>
					<section>
						<h2>GeoJSON</h2>
						<p>Also meant to display geographic data online. It's a single file for use with JavaScript mapping libraries such as Leaflet and D3.</p>
					</section>
					<section>
						<h2>Geodatabases</h2>
						<p>These are basically shapefiles on steroids. They can be very large in size and difficult to load into open source software such as QGIS (but it is possible).</p>
					</section> 					
				</section>
				<section>
					<section>
						<h2>What types of geographic data are there?</h2>
						<p>
							There are two basic types of geographic data
						</p>
					</section>
					<section>
						<h3>Vector</h3>
						<ul>
							<li>Points<br/><small>Each represents a single location, such as an address.</small></li>
							<li>Lines<br/><small>Typically used to represent roads, waterways, trails, etc.</small></li>
							<li>Polygons<br/><small>A boundary or a zone (such as a county, city or state)</small></li>
						</ul>
						</section>
						<section>
							<img src='./images/tucson_livestock.png'/>
						</section>
						<section>
							<h3>Raster</h3>
							<ul>
								<li>Elevation data</li>
								<li>Satellite imagery</li>
								<li>Aerial imagery</li>
							</ul>
						</section>
						<section>
							<img src='./images/tucson_ndvi.png' style='height:580px; width:auto;'/>
						</section>

				</section>

				<section>
					<section>
						<h2>We find stories combining different datasets and techniques</h2>
						<h4>The techniques we use can drive the story we tell</h4>
					</section>
					<section>
						<h3>Basic point map</h3>
						<img src='./images/tucson_property_crimes.png' style='height:580px; width:auto;'/>
					</section>
					<section>
						<h3>Chloropleth map</h3>
						<img src='./images/tucson_property_census.png' style='height:580px; width:auto;'/>
					</section>
					<section>
						<h3>Binned map</h3>
						<image src='./images/tucson_property_grid.png' style='height:580px; width:auto;'/>
					</section>
					<section>
						<h3>Heat map</h3>
						<img src='./images/tucson_property_heat.png' style='height:580px; width:auto;'/>
					</section>
				</section>

				<section>
					<section>
						<h2>A word about projections</h2>
					</section>
					<section>

						<h3>Projections are how we draw a three dimensional sphere on a two dimensional surface</h3>
						<img src='./images/Dymaxion_2003_animation_small1.gif' style='border:none; box-shadow:none; height:400px;'/>

					</section>
					<section>
						<h3>Different projections are used to preserve different properties:</h3>
						<ul id='fragments'>
							<li class='fragment'>Distance</li>
							<li class='fragment'>Direction</li>
							<li class='fragment'>Area</li>
							<li class='fragment'>Shape</li>
						</ul>
					</section>
					<section>
						<h2>Some common projections</h2>
					</section>
					<section>
						<h3>Mercator</h3>
						<div id='mercator'></div>
					</section>
					<section>
						<h3>Albers Equal Area Conic</h3>
						<div id='albers'></div>
					</section>
					<section>
						<h3>Lambert cylindrical equal-area</h3>
						<div id='lambert'></div>
					</section>
<!-- 					<section>
						<h2>There are many more</h2>
					</section> -->
<!-- 					<section>
						<h3 id='projection-label'></h3>
						<div id='projections'></div>
						<select id="projection-menu" style='display:none;'></select>
					</section> -->
				</section>

				<section>
					<section>
						<h2>Why do we need to keep an eye on projections?</h2>
						<p>
							All projections distort the world to some extent. Because of this we need to make sure datasets share the same projection when compared.
						</p>
					</section>
					<section>
						<h2>A warning</h2>
						<p>
							Mapping software will reproject "on the fly." This is only for viewing purposes; the underlying data is not changed. Your analysis is most likely incorrect if projections do not match.
						</p>
					</section>
				</section>
				<section>
					<section>
						<h2>And then there is datum</h2>
						<p>
							Datum is the coordinate reference system. In other words, it is how we measure locations on Earth.
						</p>
					</section>
					<section>
						<h3>Some common datum are:</h3>
						<ul>
							<li>North American Datum 1927 (NAD27)</li>
							<li>North American Datum 1983 (NAD83)</li>
							<li>World Geodetic System 1984 (WGS84)</li>
						</ul>
					</section>
				</section>

				<section>
					<h2>Why do we match datum between files?</h2>
					<p>
						NAD27 and NAD83 sound similar. However they are based on different mathematical representations of the Earth's shape. The same location in two different datum can be off by a few hundred meters.
					</p>
				</section>

				<section>
					<h2>And also map units</h2>
					<p>
						Many geographic datasets have units set to degrees. Degrees are not a measure of distance or area, but rather the angle of a point relative to the center of the earth.
					</p>
						If your analysis requires measurement of distance or area, convert your data to a projection and datum that support map units in meters or feet.
					</p>

				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'zoom', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
